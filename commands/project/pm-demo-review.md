# Demo Review - UI Verification & Demo Step Slides

Verify demo content against the actual platform UI using Playwright, capture screenshots, and expand the Demo slide into per-step slides.

**Usage:** `/pm-demo-review [PROJECT_PATH]`

**Arguments:**
- `$ARGUMENTS` - Path to project folder containing `demo/Demo_Showcase_Content.md`

---

## Prerequisites

- `demo/Demo_Showcase_Content.md` exists in the project (generated by `/pm-demo-content`)
- Test environment accessible (credentials from `config/env-staging.txt`)
- Playwright MCP browser tools available

---

## What This Command Does

| Phase | Action | Output |
|-------|--------|--------|
| 1. Parse | Read `Demo_Showcase_Content.md` | Extract navigation paths, UI labels, field names |
| 2. Setup | Launch browser, login to test environment | Authenticated session, `demo/screenshots/` created |
| 3. Verify | Walk the UI following Slide 4 navigation | Compare labels/paths against documented text |
| 4. Capture | Take screenshots at key demo points | `demo/screenshots/NN_Description.png` |
| 5. Update | Fix content file in-place | Corrected `Demo_Showcase_Content.md` |
| 6. Expand | Replace Demo slide with per-step slides | Expanded `Demo_Showcase_Content.md` |

---

## Agent Instructions

### Phase 1: Parse Demo Content

1. **Read** `$ARGUMENTS/demo/Demo_Showcase_Content.md`
   - If not found, check `$ARGUMENTS/Demo_Showcase_Content.md` (legacy location)
   - If neither exists, suggest running `/pm-demo-content` first

2. **Extract verification targets** from Slides 4 and 5:
   - Navigation path (e.g., "Navigate to Network Control > Service Catalog")
   - UI labels and field names (e.g., "IP Address or FQDN")
   - Behavioral claims (e.g., "mutually exclusive per server field")
   - Expected table/list values (e.g., "radius.company.com:1812")
   - Screenshot descriptions

3. **Build a checklist** of items to verify:

   | # | Type | Claim | Source Slide |
   |---|------|-------|--------------|
   | 1 | Navigation | "Network Control > Service Catalog" | Slide 4 |
   | 2 | Label | "IP Address or FQDN" | Slide 4 |
   | ... | ... | ... | ... |

### Phase 2: Setup Browser

1. **Read credentials** from `config/env-staging.txt`
   - Extract environment URL, username, password

2. **Launch browser** and resize:
   ```
   browser_resize: 1280x900
   ```

3. **Navigate** to the platform login page and authenticate

4. **Verify login success** by checking for dashboard elements

5. **Create screenshots folder** if it doesn't exist:
   ```
   demo/screenshots/
   ```

### Phase 3: Verify UI Content

For each navigation step documented in Slide 4 script:

1. **Navigate** to the documented path
   - Take `browser_snapshot` at each major page

2. **Compare** UI elements against documented claims:
   - Menu item names match?
   - Field labels match?
   - Button text matches?
   - Default values match?

3. **Record findings** in a verification table:

   | # | Claim | Actual UI | Match? | Action |
   |---|-------|-----------|--------|--------|
   | 1 | Menu: "Service Catalog" | "Service Catalog" | Yes | None |
   | 2 | Label: "IP Address or FQDN" | "IP Address / FQDN" | No | Update content |
   | ... | ... | ... | ... | ... |

4. **Check behavioral claims**:
   - If Slide 4 says "mutually exclusive", try entering both and verify
   - If Slide 4 says a specific value appears in a table, navigate there and check

### Phase 4: Capture Screenshots

At each key demo point, capture a screenshot:

1. **Name screenshots** with numbered prefix:
   - `01_Description.png` - first key screen
   - `02_Description.png` - second key screen
   - Use descriptive names (e.g., `01_RADIUS_Server_List.png`, `02_Add_Profile_Form.png`)

2. **Take screenshots** using `browser_take_screenshot`:
   ```
   filename: demo/screenshots/NN_Description.png
   type: png
   ```

3. **Capture at these points** (adapt to feature):
   - The starting navigation page
   - The configuration form/dialog
   - Key fields or options being demonstrated
   - The result after saving/applying
   - Any tables or lists showing the new data

### Phase 5: Update Slides 1-4

Fix mismatches found in Phase 3 for **Slides 1-4 only** (Slide 5 Demo and Slide 6 Questions will be replaced in Phase 6):

1. **Fix any mismatches** found in Phase 3:
   - Correct UI labels in Slide 4 bullets and script
   - Fix navigation paths if menu names differ
   - Update field names, button text, default values
   - Adjust behavioral descriptions to match reality

2. **Save** the updated `demo/Demo_Showcase_Content.md`

### Phase 6: Expand Demo Slide into Per-Step Slides

Replace the single Slide 5 (Demo) and Slide 6 (Questions) in `Demo_Showcase_Content.md` with individual per-step demo slides, then re-number Questions as the last slide. **Do NOT create a separate file.**

1. **Remove** the existing `## Slide 5: Demo` section (the one that crams all screenshots together)

2. **Remove** the existing `## Slide 6: Questions` section

3. **Insert per-step demo slides** starting at Slide 5, one for each demo step captured in Phase 3-4. Use one of two formats per step:

   **Image format** (step has a screenshot):
   ```markdown
   ## Slide N: [Step Action Title]
   **Title:** [Step Action Title]
   **Content:** ![alt text](screenshots/NN_Description.png)

   **Script:**
   "[Presenter speech for this step — what to say, what to point out]"
   ```

   **Bullet format** (step has no screenshot):
   ```markdown
   ## Slide N: [Step Action Title]
   **Title:** [Step Action Title]
   **Bullets:**
   - [Key point 1]
   - [Key point 2]

   **Script:**
   "[Presenter speech for this step]"
   ```

4. **Add the Questions slide** as the last numbered slide:
   ```markdown
   ## Slide N: Questions
   **Title:** Questions?

   **Script:**
   "[Brief closing statement]"
   ```

5. **Append Review Metadata** below all slides (uses `## Review Metadata` heading which the PPT parser ignores — it only matches `## Slide \d+:`):

   ```markdown
   ---

   ## Review Metadata

   ### Verified Content Changes

   | Slide | Field | Original | Corrected | Reason |
   |-------|-------|----------|-----------|--------|
   | 4 | Bullet 1 | "old text" | "new text" | Actual UI label differs |
   | ... | ... | ... | ... | ... |

   *No changes needed* — if everything matched.

   ### Troubleshooting

   | Issue | Solution |
   |-------|----------|
   | Page not loading | Check environment URL and credentials |
   | Feature not visible | Verify feature flag is enabled in environment |
   | Screenshots blurry | Ensure browser is resized to 1280x900 |
   ```

6. **Save** the updated `demo/Demo_Showcase_Content.md`

---

## Output Summary

After completion, report to the user:

1. **Verification results**: How many claims matched vs. needed correction
2. **Screenshots captured**: List of files in `demo/screenshots/`
3. **Content changes**: Summary of what was corrected in `Demo_Showcase_Content.md`
4. **Slide count**: Original (6) vs. expanded (N) — shows how many demo step slides were added
5. **Files created/updated**:
   - `demo/Demo_Showcase_Content.md` (expanded with per-step demo slides + review metadata)
   - `demo/screenshots/*.png` (new)

---

## Next Steps

After review, proceed to:
- `/pm-demo-ppt [PROJECT_PATH]` - Generate PowerPoint from verified content
- `/pm-demo-email [PROJECT_PATH]` - Generate email for sharing demo recording
